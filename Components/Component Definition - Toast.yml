ComponentDefinitions:
  Toast_:
    DefinitionType: CanvasComponent
    AccessAppScope: true
    CustomProperties:
      HideToast:
        PropertyKind: Output
        DisplayName: Hide Toast
        Description: Hide Toast
        DataType: Boolean
      ShowToast:
        PropertyKind: Input
        DisplayName: Show Toast
        Description: Show Toast
        RaiseOnReset: true
        DataType: Boolean
        Default: =false
      SuccessToast:
        PropertyKind: Input
        DisplayName: Success Toast
        Description: A custom property
        DataType: Boolean
        Default: =false
      ToastDuration:
        PropertyKind: Input
        DisplayName: Toast Duration
        Description: Toast Duration
        DataType: Number
        Default: =7500
      ToastMessageBody:
        PropertyKind: Input
        DisplayName: Toast Message Body
        Description: Toast Message Body
        DataType: Text
        Default: ="Text"
      ToastMessageHeader:
        PropertyKind: Input
        DisplayName: Toast Message Header
        Description: Toast Message Header
        DataType: Text
        Default: ="Text"
    Properties:
      Height: =175
      HideToast: |-
        =HideToast
        /*
        If(progress_toastTicks.Value = 0,
            If(HideToast,
                !HideToast,
                HideToast
            ),
            If(HideToast,
                HideToast,
                !HideToast
            )
        )
        */
      OnReset: |+
        =Set(HideToast, true);

        Reset(progress_toastTicks);
        Set(StartProgressToastTicks, false);
        Set(StartProgressToastTicks, true);


      Width: =500
    Children:
      - main:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            DropShadow: =DropShadow.None
            Height: =Parent.Height
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutJustifyContent: =LayoutJustifyContent.Center
            PaddingBottom: =24
            PaddingLeft: =28
            PaddingRight: =28
            PaddingTop: =12
            Width: =Parent.Width
          Children:
            - containerToast:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  BorderColor: =RGBA(202, 214, 227, 1)
                  BorderThickness: =1
                  DropShadow: =DropShadow.Regular
                  Fill: =RGBA(255, 255, 255, 1)
                  Height: =150
                  LayoutDirection: =LayoutDirection.Vertical
                  LayoutGap: =4
                  LayoutMinHeight: =1
                  LayoutMinWidth: =1
                  PaddingBottom: =8
                  PaddingLeft: =12
                  PaddingRight: =12
                  PaddingTop: =8
                  RadiusBottomLeft: =10
                  RadiusBottomRight: =10
                  RadiusTopLeft: =10
                  RadiusTopRight: =10
                  Visible: =true //showToast
                  Width: =400
                  X: =Parent.Width - Self.Width - 30
                  Y: =591
                Children:
                  - container_toastHeader:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =32
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutDirection: =LayoutDirection.Horizontal
                        LayoutGap: =8
                        LayoutMinWidth: =1
                        PaddingLeft: =4
                        PaddingRight: =4
                      Children:
                        - icon_toastSuccess:
                            Control: Image@2.2.3
                            Properties:
                              Height: =24
                              Image: ="data:image/svg+xml;utf8, "&EncodeUrl("<svg xmlns='http://www.w3.org/2000/svg' width='40px' height='40px' viewBox='0 0 24 24' fill='none' color='#000000' stroke-width='1.5'><path fill-rule='evenodd' clip-rule='evenodd' d='M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM7.53044 11.9697C7.23755 11.6768 6.76268 11.6768 6.46978 11.9697C6.17689 12.2626 6.17689 12.7374 6.46978 13.0303L9.46978 16.0303C9.76268 16.3232 10.2376 16.3232 10.5304 16.0303L17.5304 9.03033C17.8233 8.73744 17.8233 8.26256 17.5304 7.96967C17.2375 7.67678 16.7627 7.67678 16.4698 7.96967L10.0001 14.4393L7.53044 11.9697Z' fill='#35b6a0'/></svg>")
                              Tooltip: ="Reviewed - Accepted"
                              Visible: =Toast_.SuccessToast
                              Width: =Self.Height
                        - icon_toastError:
                            Control: Image@2.2.3
                            Properties:
                              Height: =24
                              Image: ="data:image/svg+xml;utf8, "&EncodeUrl("<svg xmlns='http://www.w3.org/2000/svg' width='40px' height='40px' viewBox='0 0 24 24' fill='none' color='#000000' stroke-width='1.5'><path fill-rule='evenodd' clip-rule='evenodd' d='M9.61617 3.6419C10.6736 1.80296 13.3268 1.80296 14.3841 3.6419L22.4271 17.6296C23.4813 19.463 22.1579 21.7504 20.0431 21.7504H3.95721C1.84242 21.7504 0.519055 19.463 1.57322 17.6296L9.61617 3.6419ZM12 8.25C12.4142 8.25 12.75 8.58579 12.75 9V13C12.75 13.4142 12.4142 13.75 12 13.75C11.5858 13.75 11.25 13.4142 11.25 13V9C11.25 8.58579 11.5858 8.25 12 8.25ZM12.5675 17.5008C12.8446 17.1929 12.8196 16.7187 12.5117 16.4416C12.2038 16.1645 11.7296 16.1894 11.4525 16.4973L11.4425 16.5084C11.1654 16.8163 11.1904 17.2905 11.4983 17.5676C11.8062 17.8447 12.2804 17.8197 12.5575 17.5119L12.5675 17.5008Z' fill='#f8b06d'/></svg>")
                              Tooltip: ="Reviewed - Rejected"
                              Visible: =!Toast_.SuccessToast
                              Width: =Self.Height
                        - label_toastHeaderMessage:
                            Control: Label@2.5.1
                            Properties:
                              BorderColor: =RGBA(0, 18, 107, 1)
                              FillPortions: =1
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Height: =26
                              LayoutMinWidth: =1
                              Size: =12
                              Text: =$"{Toast_.ToastMessageHeader}"
                              Width: =Parent.Width
                        - button_ForceClose:
                            Control: Button@0.0.45
                            Properties:
                              AlignInContainer: =AlignInContainer.Stretch
                              Appearance: ='ButtonCanvas.Appearance'.Transparent
                              Icon: ="ArrowExit"
                              Layout: ='ButtonCanvas.Layout'.IconOnly
                              LayoutMinHeight: =1
                              OnSelect: =Set(HideToast, false);
                              Width: =Self.Height
                  - label_toastBodyMessage:
                      Control: Label@2.5.1
                      Properties:
                        AlignInContainer: =AlignInContainer.Stretch
                        BorderColor: =RGBA(0, 18, 107, 1)
                        FillPortions: =1
                        Font: =Font.'Segoe UI'
                        Height: =50
                        LayoutMinHeight: =30
                        LayoutMinWidth: =1
                        Size: =10
                        Text: =$"{Toast_.ToastMessageBody}"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.Width
                  - progress_toastClose:
                      Control: Progress@1.1.34
                      Properties:
                        AlignInContainer: =AlignInContainer.Stretch
                        BasePaletteColor: =RGBA(212, 238, 255, 1)
                        Height: =20
                        LayoutMinWidth: =1
                        Max: =Toast_.ToastDuration
                        Thickness: ='Progress.Thickness'.Medium
                        Value: =Toast_.ToastDuration - progress_toastTicks.Value
      - debug_reset:
          Control: Button@0.0.45
          Properties:
            OnSelect: =Reset(Toast_)
            Text: ="RESET"
            X: =0 - Self.Width - 10
      - progress_toastTicks:
          Control: Timer@2.1.0
          Properties:
            AutoPause: =false
            AutoStart: =true
            Duration: =Toast_.ToastDuration
            OnTimerEnd: =Set(HideToast, false);
            Start: =StartProgressToastTicks
            Text: =Toast_.ToastDuration - Self.Value
            Visible: =false
            Width: =78
